ZGC сборщик мусора
![img](./ZGC-2048.png)

G1 сборщик мусора
![img](./G1-2048.png)

<table>
<caption>Сборщики мусора (time - время в секундах до падения тестировщика при разных размерах кучи)</caption>
<tr><th>GC</th><th>256m time</th><th>2048m time</th></tr>
<tr><td>G1</td><td>65</td><td>540</td></tr>
<tr><td>ZGC</td><td>51</td><td>417</td></tr>
</table>

Преимущество G1 сборщика перед прежними поколениями заключается в том, что он уделяет дефрагментации установленные моменты времени.
По логу видно, что в период, когда необходимости в новой памяти нет (файлы приложены), он занимается young областями. Когда в памяти появляется существенная нужда, начинается уничтожение Old поколения.

Сборщик ZGC появился позднее. А с версии Java 15 можно использовать его без ключа -XX:+UnlockExperimentalVMOptions.
ZGC берёт полный контроль над Кучей, отсюда и лестницеподобный график занимаемой памяти в VisualVm (У ZGC определена своя область кучи, ZHeap, приложил в логах). У ZGC может в onlinetime дефрагментизировать память и посредством специальных барьеров, при необходимости давать указатели приложению.

По сравнению с G1 на моём ноутбуке у ZGC есть небольшое преимущество. В случае кучи в 2048Mb, порядка минуты. Но G1 не преодолел ни разу в скорости, на моём тесте, ZGC сборщик ни на одном размере кучи.